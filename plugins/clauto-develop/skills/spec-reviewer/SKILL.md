---
name: spec-reviewer
description: Spec quality gate. Detects ambiguity, gaps, and contradictions. Use before implementation or after spec changes.
related_commands:
  - /spec:review
related_agents:
  - spec-planner
---

# 仕様書レビュー Skill

仕様書の品質を検証し、実装前に問題を発見します。

> **関連コマンド**: `/spec:review` がこのSkillの基準を適用します。
> **関連エージェント**: `spec-planner` が作成した仕様書のレビューに使用されます。

## レビューチェックリスト

### 1. 曖昧語チェック

以下の曖昧語が使用されていないか確認：

| 曖昧語 | 具体化の例 |
|-------|-----------|
| 適切に | 「100ms以内に」「3回まで再試行」 |
| 必要に応じて | 「〇〇の場合に」「〇〇が発生したとき」 |
| など | 全項目を列挙 |
| 高速/低速 | 具体的な数値（ms, 件/秒） |
| 多い/少ない | 具体的な数値（件数、割合） |
| 適宜 | 具体的な条件とアクション |
| 基本的に | 例外条件を明示 |

### 2. 優先順位チェック

- [ ] 機能に優先度が設定されているか
- [ ] 優先度の基準が明確か
- [ ] 依存関係と優先度に矛盾がないか

### 3. バリデーションチェック

- [ ] 全入力フィールドにバリデーションルールがあるか
- [ ] 境界値が明示されているか
- [ ] 文字種制限があるか
- [ ] 必須/任意が明確か
- [ ] デフォルト値が定義されているか

### 4. 例のチェック

- [ ] 成功例があるか
- [ ] 失敗例（各エラーパターン）があるか
- [ ] 境界値の例があるか
- [ ] 例が仕様と整合しているか

### 5. 非機能要件チェック

#### パフォーマンス
- [ ] レスポンス時間の目標値があるか
- [ ] スループットの目標値があるか
- [ ] 同時接続数の上限があるか
- [ ] データ量の上限があるか

#### セキュリティ
- [ ] 認証要件が明確か
- [ ] 認可要件が明確か
- [ ] 機密データの扱いが定義されているか
- [ ] 入力検証要件があるか

### 6. 整合性チェック

- [ ] 入力と出力の整合性
- [ ] エラーコードの一貫性
- [ ] 用語の統一
- [ ] 他仕様との矛盾がないか

### 7. 完全性チェック

- [ ] 全セクションが記入されているか
- [ ] 「TODO」「TBD」が残っていないか
- [ ] ディレクトリ構成があるか
- [ ] 用語集が必要十分か

## 出力形式

```markdown
# 仕様書レビュー結果

## サマリー
- レビュー対象: [ファイルパス]
- 判定: [PASS / FAIL / CONDITIONAL PASS]
- 重大な問題: [件数]
- 軽微な問題: [件数]

## 重大な問題（実装前に修正必須）

### 問題1
- **箇所**: [セクション/行]
- **種別**: [曖昧さ / 漏れ / 矛盾 / セキュリティ]
- **内容**: [問題の説明]
- **修正案**: [具体的な修正提案]

## 軽微な問題（修正推奨）

### 問題1
- **箇所**: [セクション/行]
- **内容**: [問題の説明]
- **修正案**: [具体的な修正提案]

## 確認事項（ステークホルダーへの質問）

1. [確認が必要な事項]

## 良い点

- [良かった点]
```

## 判定基準

| 判定 | 条件 |
|-----|------|
| PASS | 重大な問題がゼロ |
| CONDITIONAL PASS | 重大な問題が1-2件かつ修正が容易 |
| FAIL | 重大な問題が3件以上または修正困難 |
