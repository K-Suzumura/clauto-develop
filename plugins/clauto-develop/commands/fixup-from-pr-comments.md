# /fixup-from-pr-comments - PRコメント対応

PRのレビューコメントに基づいて修正を行ってください。

## 使用方法

```
/fixup-from-pr-comments
/fixup-from-pr-comments [PR番号]
/fixup-from-pr-comments 123
```

## 実行内容

1. PRのレビューコメントを取得
2. 対応が必要なコメントを分析
3. 修正を実施
4. テスト実行
5. 追加コミット

## 実行フロー

### Phase 1: コメント取得
```bash
gh pr view [PR番号] --comments
gh api repos/{owner}/{repo}/pulls/{pr}/comments
```

### Phase 2: コメント分析
- 未解決のコメントを抽出
- 対応内容を分類:
  - コード修正
  - ドキュメント修正
  - 説明・回答のみ
  - 対応不要

### Phase 3: 修正計画
```markdown
## 対応計画

### 要修正
1. [ファイル:行] [コメント内容] → [修正方針]
2. [ファイル:行] [コメント内容] → [修正方針]

### 説明・回答が必要
3. [コメント内容] → [回答案]

### 対応不要（理由あり）
4. [コメント内容] → [理由]
```

### Phase 4: ユーザー確認
修正計画を確認してから実行

### Phase 5: 修正実行
- コードを修正
- テストを実行
- 問題なければコミット

### Phase 6: PR更新
- コメントへの返信（オプション）
- プッシュ

## 出力形式

```markdown
# PRコメント対応完了

## PR情報
- **PR番号**: #123
- **タイトル**: feat: ユーザー認証機能を追加

## 対応したコメント

### 1. [レビュアー名] - [ファイル:行]
**コメント**: [コメント内容]
**対応**: [修正内容]
**コミット**: abc1234

### 2. [レビュアー名] - [ファイル:行]
**コメント**: [コメント内容]
**対応**: [修正内容]
**コミット**: abc1234

## 対応しなかったコメント

### 3. [レビュアー名]
**コメント**: [コメント内容]
**理由**: [対応しない理由]

## テスト結果
- [x] 全テスト合格

## 追加コミット
- abc1234: fix: レビュー指摘対応 - バリデーション追加
- def5678: fix: レビュー指摘対応 - エラーメッセージ改善

## 次のステップ
1. レビュアーに再レビューを依頼
2. 追加コメントがあれば再度 `/fixup-from-pr-comments`
```

## 注意事項

- 対応しないコメントがある場合は理由を明記
- テストが失敗した場合は中断して報告
- 大きな設計変更が必要な場合はユーザーに確認
