# /qa:full - フルテスト実行

テスト設計から実行、結果整理までを一気に実行してください。

## 実行内容

1. テストケースの整理・確認
2. テスト実行
3. 結果の整理とレポート出力
4. 失敗時は中断してレポート

## 実行フロー

### Phase 1: テストケース整理
- 既存のテストファイルを確認
- `docs/spec.md` の機能要件に対応するテストがあるか確認
- 不足しているテストケースをリストアップ

### Phase 2: テスト実行
- プロジェクトのテストコマンドを実行
- 実行結果をキャプチャ

### Phase 3: 結果整理
- 成功/失敗を分類
- 失敗原因を分析
- カバレッジ情報を取得（可能な場合）

## 出力形式

```markdown
# QA レポート

## サマリー
- **実行日時**: YYYY-MM-DD HH:MM
- **判定**: PASS / FAIL
- **総テスト数**: X件
- **成功**: X件
- **失敗**: X件
- **スキップ**: X件

## テストカバレッジ
<!-- カバレッジ情報が取得可能な場合 -->
- **ライン**: XX%
- **ブランチ**: XX%
- **関数**: XX%

## 失敗したテスト

### [テスト名1]
- **ファイル**: `path/to/test.ext`
- **エラー内容**:
  ```
  [エラーメッセージ]
  ```
- **推定原因**: [原因の分析]
- **修正案**: [修正方法の提案]

### [テスト名2]
...

## 仕様カバレッジ

| 機能ID | 機能名 | テスト有無 | 結果 |
|--------|--------|----------|------|
| F-001 | [機能名] | ✅ | PASS |
| F-002 | [機能名] | ✅ | FAIL |
| F-003 | [機能名] | ❌ | - |

## 推奨アクション

### 必須対応
1. [失敗テストの修正]
2. [不足テストの追加]

### 推奨対応
1. [カバレッジ向上]
2. [テストの改善]

## 次のステップ
- 失敗がある場合: 修正後に再度 `/qa:full` を実行
- 全成功の場合: `/git:commit` でコミット
```

## テストコマンドの検出

以下の順序でテストコマンドを検出:
1. `package.json` の `scripts.test`
2. `Makefile` の `test` ターゲット
3. 一般的なテストコマンド（`pytest`, `go test`, `cargo test` 等）

## 注意事項

- テストが1件でも失敗したら FAIL 判定
- 失敗時は詳細な原因分析を行う
- 仕様に対するテストカバレッジも報告
