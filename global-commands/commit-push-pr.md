# /commit-push-pr - 統合ワークフロー

コミット → プッシュ → PR作成を1コマンドで実行してください。

## 実行内容

1. 変更をコミット（`/git:commit` 相当）
2. リモートにプッシュ
3. PRを作成（`/git:pr` 相当）

## 実行フロー

### Phase 1: コミット
1. 変更差分を確認
2. ステージングされていない変更があれば確認
3. コミットメッセージを生成
4. コミット実行

### Phase 2: プッシュ
1. リモートブランチの存在確認
2. プッシュ実行（-u オプション付き）

### Phase 3: PR作成
1. PRタイトル・本文を生成
2. PR作成

## 出力形式

```markdown
# commit-push-pr 完了

## Step 1: コミット
- **コミットハッシュ**: abc1234
- **メッセージ**: feat: ユーザー認証機能を追加

## Step 2: プッシュ
- **リモート**: origin
- **ブランチ**: feature/F-001-user-authentication

## Step 3: PR作成
- **PR番号**: #123
- **URL**: https://github.com/owner/repo/pull/123

## 変更サマリー
| ファイル | 変更 |
|---------|------|
| `src/auth/login.ext` | 追加 |
| `src/auth/token.ext` | 追加 |

## 次のステップ
1. PR のレビューを待つ
2. コメントがあれば `/fixup-from-pr-comments` で対応
```

## 中断・再開

### 途中で問題が発生した場合
- どのフェーズで失敗したかを報告
- 再開方法を提案

### 例: プッシュ失敗時
```markdown
# commit-push-pr 中断

## 完了したステップ
- [x] コミット: abc1234

## 失敗したステップ
- [ ] プッシュ: リモートに接続できません

## 再開方法
1. ネットワーク接続を確認
2. `git push -u origin feature/F-001-user-authentication` を実行
3. `/git:pr` で PR を作成
```

## オプション

### ドラフトPR
変更がまだWIPの場合、ドラフトPRとして作成可能

### コミットをまとめる
複数の小さな変更を1つのコミットにまとめる

## 注意事項

- 未コミットの変更が多い場合は確認を求める
- force push は行わない
- PRのベースブランチは main/master を自動検出
